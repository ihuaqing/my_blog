<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="/stylesheets/score_table.css">
    <link rel="stylesheet" href="/stylesheets/normalize.css">
    <!--<link rel="stylesheet" href="stylesheets/base.css">-->
    <link rel="stylesheet" href="stylesheets/buttons.css">
    <link rel="stylesheet" href="stylesheets/vicons-font.css">
</head>
<body>
    <section class="description"><h3>&1表示早上&nbsp;&nbsp;&nbsp; &2表示上午&nbsp;&nbsp;&nbsp; &3表示中午&nbsp;&nbsp;&nbsp; &4表示下午 &nbsp;&nbsp;&nbsp;&5表示晚上&nbsp;&nbsp;&nbsp;&6表示夜晚</h3></section>
   <div class="container">
       <section>
           <div class="day" id='day0'></div>
           <div class="day" id='day1'></div>
           <div class="day" id="day2"></div>
           <div class="day" id="day3"></div>
           <div class="day" id="day4"></div>
           <div class="day" id="day5"></div>
           <div class="day"><span>Mon</span></div>
       </section>
       <section>
           <div class="day" id="day6"></div>
           <div class="day" id="day7"></div>
           <div class="day" id="day8"></div>
           <div class="day" id="day9"></div>
           <div class="day" id="day10"></div>
           <div class="day" id="day11"></div>
           <div class="day"><span>Tue</span></div>
       </section>
       <section>
           <div class="day" id="day12"></div>
           <div class="day" id="day13"></div>
           <div class="day" id="day14"></div>
           <div class="day" id="day15"></div>
           <div class="day" id="day16"></div>
           <div class="day" id="day17"></div>
           <div class="day"><span>Wed</span></div>
       </section>
       <section>
           <div class="day" id="day18"></div>
           <div class="day" id="day19"></div>
           <div class="day" id="day20"></div>
           <div class="day" id="day21"></div>
           <div class="day" id="day22"></div>
           <div class="day" id="day23"></div>
           <div class="day"><span>Thu</span></div>
       </section>
       <section>
           <div class="day" id="day24"></div>
           <div class="day" id="day25"></div>
           <div class="day" id="day26"></div>
           <div class="day" id="day27"></div>
           <div class="day" id="day28"></div>
           <div class="day" id="day29"></div>
           <div class="day"><span>Fri</span></div>
       </section>
       <section>
           <div class="day" id="day30"></div>
           <div class="day" id="day31"></div>
           <div class="day" id="day32"></div>
           <div class="day" id="day33"></div>
           <div class="day" id="day34"></div>
           <div class="day" id="day35"></div>
           <div class="day"><span>Sat</span></div>
       </section>
       <section>
           <div class="day" id="day36"></div>
           <div class="day" id="day37"></div>
           <div class="day" id="day38"></div>
           <div class="day" id="day39"></div>
           <div class="day" id="day40"></div>
           <div class="day" id="day41"></div>
           <div class="day"><span>Sun</span></div>
       </section>
       <section>
           <div class="day">&1</div>
           <div class="day">&2</div>
           <div class="day">&3</div>
           <div class="day">&4</div>
           <div class="day">&5</div>
           <div class="day">&6</div>
       </section>
       <h2>14th of week</h2>
   </div>  
   <button class="button button--aylen button--round-l button--text-thick">Confirm</button>
   <div class="alert">
        <p>save</p>
        <p>completed</p>
   </div>
    <script src="/javascripts/jquery-2.1.1.min.js"></script>
    <script src="/javascripts/score_table.js"></script>
    <script>
    //改变颜色
    $(document).ready(function() {
        $('.day').click(function(){
            var color = $(this).css('background-color');
            //点击之前先判断
            if(color == "rgb(153, 230, 255)") {
                $(this).css('background-color', '#00ace6');
            }else if(color == 'rgb(0, 172, 230)'){
                $(this).css('background-color', '#002633');
            }else{
                $(this).css('background-color', '#99e6ff');
            }    
        });
    });
    </script>

    <script>
        $(document).ready(function(){
            $('button').click(function(){
                var all = [];
                for(var i = 0; i<42; i++){
                    var idNum = '#day' + i;
                    var color = $(idNum).css('background-color');
                    var id = 'day' + i;
                    all.push({id: id, color: color});
                }
                var data = {my_table: all};
                $.ajax({
                   url: '/score_table',
                   type: 'POST',
                   data: data,
                   success: function(data, status) {
                       if(status == 'success') {
                            //显示成功 
                       }
                   },
                   error: function(data, err){
                   }
                })
            });        

            $('.alert').hide();
            $('button').click(function() {
                    $('.alert').fadeIn(2000);
                    function getOut() {
                        $(".alert").fadeOut(1000);
                    }
                    setTimeout(getOut, 2000);
            })
        });
    </script>
    <%for(var i = 0; i<42;i++) {%>
    <script>
    $(document).ready(function(){
        var id = "#<%=table[i].id%>";
        $(id).css('background-color', '<%=table[i].color%>');
    })
    </script>
    <%}%>
</body>
</html>
</html>
